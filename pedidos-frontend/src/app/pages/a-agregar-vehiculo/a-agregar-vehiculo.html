<section class="container mx-auto section">
    <div class="up-page py-2 px-6 section40">
        <h2>{{ isEditMode ? 'Editar vehículo' : 'Agregar vehículo' }}</h2>
        <div>Bienvenido, {{nameOfUser}}</div>
    </div>
    <div class="main-page">

        <form [formGroup]="vehicleForm" class="space-y-6 py-4 mx-auto" novalidate>
            <div class="columns-form">
                <div class="form-left">
                    <div class="block mb-12">
                        <label class="block mb-1 font-medium">Nombre del vehículo</label>
                        <input type="text" formControlName="name" class="w-full px-4 py-3" />
                        <p *ngIf="vehicleForm.get('name')?.touched && vehicleForm.get('name')?.invalid"
                            class="text-red-600 text-sm mt-1 txt-validate">
                            El nombre es obligatorio.
                        </p>
                    </div>
                </div>
                <div class="form-right">
                    <div class="block mb-12">
                        <label class="block mb-1 font-medium">Código del vehículo</label>
                        <input type="text" formControlName="code" class="w-full px-4 py-3" />
                        <p *ngIf="vehicleForm.get('code')?.touched && vehicleForm.get('code')?.invalid"
                            class="text-red-600 text-sm mt-1 txt-validate">
                            El código es obligatorio.
                        </p>
                    </div>

                </div>
            </div>

            <div class="container-btns">
                <button type="button" (click)="submit()" class="btn">
                    {{ isEditMode ? 'Guardar cambios' : 'Agregar vehículo' }}
                </button>
                <button (click)="volverListaVehiculos()" class="btn-secondary">
                    Volver
                </button>
            </div>
        </form>


    </div>

    <app-modal-confirmacion [mostrar]="mostrarModalConfirmacion"
        [mensaje]="'¿Seguro que deseas volver? Los cambios no se guardarán.'" (confirmar)="confirmarVolver()"
        (cancelar)="cancelarVolver()">
    </app-modal-confirmacion>

    <div *ngIf="mostrarModalExito" class="fixed inset-0 flex items-center justify-center z-50 open-modal-exito">
        <div class="bg-white rounded shadow-md p-6 w-11/12 md:w-1/3 relative">
            <div class="flex items-center flex-col modal-icon text-center">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M320 112C434.9 112 528 205.1 528 320C528 434.9 434.9 528 320 528C205.1 528 112 434.9 112 320C112 205.1 205.1 112 320 112zM320 576C461.4 576 576 461.4 576 320C576 178.6 461.4 64 320 64C178.6 64 64 178.6 64 320C64 461.4 178.6 576 320 576zM404.4 276.7C411.4 265.5 408 250.7 396.8 243.6C385.6 236.5 370.8 240 363.7 251.2L302.3 349.5L275.3 313.5C267.3 302.9 252.3 300.7 241.7 308.7C231.1 316.7 228.9 331.7 236.9 342.3L284.9 406.3C289.6 412.6 297.2 416.2 305.1 415.9C313 415.6 320.2 411.4 324.4 404.6L404.4 276.6z"/></svg>
                <h3 class="text-gray-700">¡Hecho!</h3>
            </div>

            <div class="py-4 text-center">
                <p class="fff text-gray-700">{{titleModalExito}}</p>
            </div>

            <div class="flex justify-center pt-8 border-t border-gray-200">
                <button (click)="irAListaVehiculos()"
                    class="text-white font-bold py-2 px-4 rounded btn">
                    Aceptar
                </button>
            </div>
        </div>
    </div>

</section>